

<header class="sticky top-0 z-50 w-[95%] mx-auto my-2 rounded-[var(--m3-shape-corner-xl)] shadow-2xl transition-colors duration-500" [style.background-color]="'var(--md-sys-color-surface-container-low)'">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
            <a routerLink="/" (click)="closeMobileMenu()" class="flex items-center gap-3 text-2xl font-bold font-manrope z-50" [style.color]="'var(--md-sys-color-primary)'">
                <div class="w-12 h-12 rounded-2xl grid place-items-center text-2xl" [style.background]="'linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-tertiary-container))'" [style.color]="'var(--md-sys-color-on-primary-container)'">
                    ðŸŽ¨
                </div>
                <span class="hidden sm:inline">Creative Suite</span>
            </a>

            <!-- Desktop Navigation -->
            <nav class="hidden lg:flex items-center p-1 rounded-full" [style.background-color]="'var(--md-sys-color-surface-container-high)'">
                <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">Home</a>
                <a routerLink="/photography" routerLinkActive="active" class="nav-link">Photography</a>
                <a routerLink="/music" routerLinkActive="active" class="nav-link">Music</a>
                <a routerLink="/about" routerLinkActive="active" class="nav-link">About Me</a>
                <a routerLink="/feedback" routerLinkActive="active" class="nav-link">Feedback</a>
            </nav>
            
            <div class="flex items-center gap-4">
                <div class="relative">
                     <input type="color" id="theme-picker" [value]="themeService.sourceColor()" (input)="onColorChange($event)" class="w-10 h-10 p-1 appearance-none bg-transparent border-2 rounded-full cursor-pointer" [style.border-color]="'var(--md-sys-color-outline)'">
                </div>
                <button (click)="themeService.toggleTheme()" class="m3-toggle-button hidden lg:flex">
                    @if (themeService.isDark()) {
                        <i class="fas fa-sun mr-2"></i> Light
                    } @else {
                        <i class="fas fa-moon mr-2"></i> Dark
                    }
                </button>

                 <!-- Mobile Menu Button -->
                <button (click)="toggleMobileMenu()" class="lg:hidden m3-icon-button z-50">
                    @if (isMobileMenuOpen()) {
                        <i class="fas fa-times text-xl"></i>
                    } @else {
                        <i class="fas fa-bars text-xl"></i>
                    }
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    @if (isMobileMenuOpen()) {
        <div class="lg:hidden fixed inset-0 top-0 pt-24 bg-opacity-95 backdrop-blur-lg z-40 animate-fade-in-down" 
             [style.background-color]="'var(--md-sys-color-surface-container)'"
             (click)="closeMobileMenu()">
            <nav class="flex flex-col items-center justify-center h-full gap-8 text-center -mt-16" (click)="$event.stopPropagation()">
                <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMobileMenu()" class="mobile-nav-link">Home</a>
                <a routerLink="/photography" routerLinkActive="active" (click)="closeMobileMenu()" class="mobile-nav-link">Photography</a>
                <a routerLink="/music" routerLinkActive="active" (click)="closeMobileMenu()" class="mobile-nav-link">Music</a>
                <a routerLink="/about" routerLinkActive="active" (click)="closeMobileMenu()" class="mobile-nav-link">About Me</a>
                <a routerLink="/feedback" routerLinkActive="active" (click)="closeMobileMenu()" class="mobile-nav-link">Feedback</a>
                 <button (click)="themeService.toggleTheme()" class="m3-toggle-button flex mt-8">
                    @if (themeService.isDark()) {
                        <i class="fas fa-sun mr-2"></i> Light
                    } @else {
                        <i class="fas fa-moon mr-2"></i> Dark
                    }
                </button>
            </nav>
        </div>
    }
</header>
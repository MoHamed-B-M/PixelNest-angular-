import{g as z}from"./chunk-3NPG7AA4.js";import{$ as _,$a as E,Fa as D,Ma as L,Na as T,Oa as U,Pa as O,Ra as P,Sa as C,U as h,V as x,Xa as a,Ya as l,Za as p,_a as B,a as f,b as y,bb as b,cb as v,eb as V,fb as F,gb as I,hb as A,ib as s,jb as k,lb as g,mb as S,nb as M,pa as w,sa as n}from"./chunk-QWJ4PBZU.js";var $=["audioPlayer"],X=(d,m)=>m.id;function Q(d,m){if(d&1){let u=B();a(0,"div",7)(1,"div",8)(2,"video",9,0),p(4,"source",10),l()(),a(5,"div",11)(6,"div",12)(7,"div",13),g(8," \u{1F3B6} "),l(),a(9,"div")(10,"h3",14),g(11),l(),a(12,"p",15),g(13),l()()(),a(14,"div",16)(15,"p",17),g(16),l()(),a(17,"button",18),b("click",function(){let t=h(u).$implicit,e=v(2);return x(e.toggleDescription(t.id))}),g(18),l(),a(19,"div",19),p(20,"audio",20,1),a(22,"div",21)(23,"button",22),b("click",function(){let t=h(u).$implicit,e=A(3),i=v(2);return x(i.togglePlay(t.id,e))}),p(24,"i",23),l(),a(25,"div",24),b("click",function(t){let e=h(u).$implicit,i=v(2);return x(i.seek(t,e.id))}),p(26,"div",25)(27,"div",26),l()(),a(28,"div",27)(29,"button",28),b("click",function(){let t=h(u).$implicit,e=v(2);return x(e.toggleLoop(t.id))}),p(30,"i",29),g(31," Loop "),l(),a(32,"a",30),p(33,"i",31),g(34," Download "),l()()()()()}if(d&2){let u,o,t,e,i,r=m.$implicit,c=v(2);n(2),E("poster",r.posterUrl,w)("loop",(u=c.playerState().get(r.id))==null?null:u.isLooping),n(2),E("src",r.videoUrl,w),n(3),s("background","linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-secondary-container))"),n(3),s("color","var(--md-sys-color-on-surface)"),n(),S(r.title),n(),s("color","var(--md-sys-color-on-surface-variant)"),n(),M("By ",r.artist),n(),k("max-h-40",c.showDescription()===r.id)("max-h-12",c.showDescription()!==r.id),n(),s("color","var(--md-sys-color-on-surface-variant)"),n(),S(r.description),n(),s("color","var(--md-sys-color-primary)"),n(),M(" ",c.showDescription()===r.id?"Show Less":"Show More"," "),n(2),E("src",r.audioUrl,w),L("data-track-id",r.id),n(3),s("background-color","var(--md-sys-color-primary)")("color","var(--md-sys-color-on-primary)"),n(),k("fa-play",!((o=c.playerState().get(r.id))!=null&&o.isPlaying))("fa-pause",(t=c.playerState().get(r.id))==null?null:t.isPlaying),n(3),s("width",(((e=c.playerState().get(r.id))==null?null:e.progress)||0)+"%"),n(2),k("active",(i=c.playerState().get(r.id))==null?null:i.isLooping),n(3),E("href",r.audioUrl,w)}}function R(d,m){if(d&1&&(a(0,"div",5),P(1,Q,35,36,"div",7,X),l()),d&2){let u=v();n(),C(u.tracks())}}function Z(d,m){d&1&&(a(0,"div",32),p(1,"div",33),a(2,"div",11)(3,"div",12),p(4,"div",34),a(5,"div"),p(6,"div",35)(7,"div",36),l()(),p(8,"div",37)(9,"div",38),a(10,"div",19)(11,"div",21),p(12,"div",34)(13,"div",39),l(),a(14,"div",27),p(15,"div",40)(16,"div",41),l()()()()),d&2&&(n(),s("background-color","var(--md-sys-color-surface-container-highest)"),n(3),s("background-color","var(--md-sys-color-surface-container-highest)"),n(2),s("background-color","var(--md-sys-color-surface-container-highest)"),n(),s("background-color","var(--md-sys-color-surface-container-highest)"),n(),s("background-color","var(--md-sys-color-surface-container-highest)"),n(),s("background-color","var(--md-sys-color-surface-container-highest)"),n(3),s("background-color","var(--md-sys-color-surface-container-highest)"),n(),s("background-color","var(--md-sys-color-surface-container-highest)"),n(2),s("background-color","var(--md-sys-color-surface-container-highest)"),n(),s("background-color","var(--md-sys-color-surface-container-highest)"))}function q(d,m){if(d&1&&(a(0,"div",6),P(1,Z,17,20,"div",32,O),l()),d&2){let u=v();n(),C(u.skeletonItems)}}var ee=(()=>{let m=class m{constructor(){this.loading=_(!0),this.tracks=_([]),this.skeletonItems=Array(3).fill(0),this.playerState=_(new Map),this.activePlayer=null,this.showDescription=_(null)}ngOnInit(){setTimeout(()=>{this.tracks.set([{id:1,title:"Serene Morning",artist:"Freelance Sounds",duration:"3:12",genre:"Calm Ambient",description:"A gentle and uplifting track, perfect for starting your day with focus and tranquility.",audioUrl:"https://cdn.pixabay.com/download/audio/2022/11/21/audio_a1bf8900de.mp3",videoUrl:"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4",posterUrl:"assets/images/poster1.jpg"},{id:2,title:"Deep Focus",artist:"Zen Melodies",duration:"2:56",genre:"Soft Piano",description:"An immersive track designed for deep concentration, featuring soothing piano melodies.",audioUrl:"https://cdn.pixabay.com/download/audio/2022/08/03/audio_51cf086939.mp3",videoUrl:"https://test-videos.co.uk/vids/jellyfish/mp4/h264/360/Jellyfish_360_10s_1MB.mp4",posterUrl:"assets/images/poster2.jpg"},{id:3,title:"Rainy Window",artist:"Nature's Echo",duration:"3:44",genre:"Nature Sounds",description:"The calming sound of rain gently falling, perfect for relaxation or as a natural white noise.",audioUrl:"https://cdn.pixabay.com/download/audio/2024/02/09/audio_a27c1a85a8.mp3",videoUrl:"https://test-videos.co.uk/vids/sintel/mp4/h264/360/Sintel_360_10s_1MB.mp4",posterUrl:"assets/images/poster3.jpg"}]);let o=new Map;this.tracks().forEach(t=>{o.set(t.id,{isPlaying:!1,progress:0,isLooping:!1})}),this.playerState.set(o),this.loading.set(!1)},1500)}ngAfterViewInit(){this.audioPlayers.changes.subscribe(o=>{o.forEach(t=>{let e=t.nativeElement,i=parseInt(e.dataset.trackId||"0",10);e.addEventListener("timeupdate",()=>this.updateProgress(i,e)),e.addEventListener("ended",()=>this.handleTrackEnd(i,e)),e.addEventListener("play",()=>this.handlePlay(i,e)),e.addEventListener("pause",()=>this.handlePause(i,e))})})}togglePlay(o,t){let e=this.audioPlayers.find(i=>parseInt(i.nativeElement.dataset.trackId||"0",10)===o)?.nativeElement;e&&(e.paused?(this.pauseAllOthers(e),e.play().catch(i=>console.error("Audio play failed:",i)),t.play().catch(i=>console.error("Video play failed:",i))):(e.pause(),t.pause()))}toggleLoop(o){let t=this.audioPlayers.find(e=>parseInt(e.nativeElement.dataset.trackId||"0",10)===o)?.nativeElement;this.playerState.update(e=>{let i=e.get(o);if(i){let r=new Map(e),c=y(f({},i),{isLooping:!i.isLooping});return r.set(o,c),t&&(t.loop=c.isLooping),r}return e})}seek(o,t){let e=this.audioPlayers.find(j=>parseInt(j.nativeElement.dataset.trackId||"0",10)===t)?.nativeElement;if(!e)return;let r=o.currentTarget.getBoundingClientRect(),N=(o.clientX-r.left)/r.width;e.currentTime=e.duration*N}toggleDescription(o){this.showDescription.update(t=>t===o?null:o)}pauseAllOthers(o){this.audioPlayers.forEach(t=>{let e=t.nativeElement;e!==o&&!e.paused&&e.pause()})}updateProgress(o,t){this.playerState.update(e=>{let i=e.get(o);if(i&&!isNaN(t.duration)){let r=t.currentTime/t.duration*100,c=new Map(e);return c.set(o,y(f({},i),{progress:r})),c}return e})}handlePlay(o,t){this.playerState.update(e=>{let i=e.get(o);if(i){let r=new Map(e);return r.set(o,y(f({},i),{isPlaying:!0})),r}return e})}handlePause(o,t){this.playerState.update(e=>{let i=e.get(o);if(i){let r=new Map(e);return r.set(o,y(f({},i),{isPlaying:!1})),r}return e})}handleTrackEnd(o,t){this.playerState.update(e=>{let i=e.get(o);if(i&&!i.isLooping){let r=new Map(e);return r.set(o,y(f({},i),{isPlaying:!1,progress:0})),r}return e})}};m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=D({type:m,selectors:[["app-music"]],viewQuery:function(t,e){if(t&1&&V($,5),t&2){let i;F(i=I())&&(e.audioPlayers=i)}},decls:7,vars:5,consts:[["videoPlayer",""],["audioPlayer",""],[1,"text-center","py-16","px-4"],[1,"text-4xl","sm:text-6xl","font-extrabold","font-manrope","mb-2"],[1,"max-w-2xl","mx-auto","text-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8","p-4","md:p-8","max-w-7xl","mx-auto","rounded-[32px]"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8","p-4","md:p-8","max-w-7xl","mx-auto"],[1,"m3-card","group","rounded-[30px]"],[1,"overflow-hidden","rounded-[32px]","relative"],["muted","","playsinline","",1,"w-full","h-56","object-cover",3,"poster","loop"],["type","video/mp4",3,"src"],[1,"p-4","flex-grow","flex","flex-col"],[1,"flex","items-center","gap-4","mb-3"],[1,"w-12","h-12","rounded-full","grid","place-items-center","text-xl"],[1,"font-extrabold","text-xl","font-manrope"],[1,"text-sm"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"text-sm","leading-relaxed"],[1,"text-sm","font-medium","self-start","mt-2",3,"click"],[1,"mt-auto","pt-4"],["preload","metadata",3,"src"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","rounded-full","text-xl","grid","place-items-center","flex-shrink-0","transition-transform","hover:scale-110",3,"click"],[1,"fas"],[1,"progress-container",3,"click"],[1,"progress-bar-wavy"],[1,"progress-bar-filled"],[1,"flex","justify-end","items-center","gap-2","mt-3"],[1,"m3-button-tonal","rounded-[20px]",3,"click"],[1,"fas","fa-retweet","mr-2","rounded-[20px]"],["download","",1,"m3-button-filled-small","rounded-[20px]",3,"href"],[1,"fas","fa-download","mr-2","rounded-[20px]"],[1,"m3-card","group","rounded-[30px]","animate-pulse"],[1,"w-full","h-56","rounded-[32px]"],[1,"w-12","h-12","rounded-full"],[1,"h-6","w-32","rounded"],[1,"h-4","w-24","rounded","mt-2"],[1,"h-4","w-full","rounded","mt-2"],[1,"h-4","w-3/4","rounded","mt-1"],[1,"w-full","h-4","rounded-full"],[1,"h-10","w-24","rounded-full"],[1,"h-10","w-32","rounded-full"]],template:function(t,e){t&1&&(a(0,"div",2)(1,"h1",3),g(2,"Auralis Library"),l(),a(3,"p",4),g(4,"Stay Focused with Calming, Royalty-Free Sounds."),l()(),T(5,R,3,0,"div",5)(6,q,3,0,"div",6)),t&2&&(n(),s("color","var(--md-sys-color-on-background)"),n(2),s("color","var(--md-sys-color-on-surface-variant)"),n(2),U(e.loading()?6:5))},dependencies:[z],styles:[`.m3-card[_ngcontent-%COMP%]{@apply rounded-[40px] overflow-hidden flex flex-col transition-all duration-500 ease-in-out transform hover:-translate-y-2;background-color:var(--md-sys-color-surface-container);box-shadow:0 8px 24px #0000001a;border:1px solid var(--md-sys-color-outline-variant);transition:.5s ease;will-change:transform,box-shadow}.m3-card[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #0003;border-color:var(--md-sys-color-primary);transition:.5s ease}.m3-button-tonal[_ngcontent-%COMP%]{@apply px-4 py-2 text-sm font-medium rounded-full transition-colors duration-300 flex items-center;color:var(--md-sys-color-on-surface-variant);background-color:transparent;border:1px solid var(--md-sys-color-outline);padding:5px;transition:.5s ease}.m3-button-tonal[_ngcontent-%COMP%]:hover{background-color:var(--md-sys-color-surface-container-high)}.m3-button-tonal.active[_ngcontent-%COMP%]{background-color:var(--md-sys-color-secondary-container);color:var(--md-sys-color-on-secondary-container);border-color:transparent;transform:scaleX(1.1);transition:transform .1s cubic-bezier(.4,0,.2,1)}.m3-button-filled-small[_ngcontent-%COMP%]{@apply px-4 py-2 text-sm font-medium rounded-full transition-all duration-300 flex items-center hover:-translate-y-0.5;background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-on-primary-container);box-shadow:0 2px 4px #0000001a;padding:5px;transition:.5s ease}.m3-button-filled-small[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.m3-button-filled-small[_ngcontent-%COMP%]:active, .fa-download[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scaleX(1.1);transition:transform .1s cubic-bezier(.4,0,.2,1)}.progress-container[_ngcontent-%COMP%]{@apply w-full h-4 rounded-full cursor-pointer relative overflow-hidden;}.progress-bar-wavy[_ngcontent-%COMP%]{@apply absolute w-full h-full top-0 left-0;background-color:var(--md-sys-color-surface-variant);-webkit-mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10"><path d="M0 5 C 5 0, 5 10, 10 5 S 15 0, 20 5 V 10 H 0 Z" fill="black"/></svg>');mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10"><path d="M0 5 C 5 0, 5 10, 10 5 S 15 0, 20 5 V 10 H 0 Z" fill="black"/></svg>');-webkit-mask-size:20px 16px;mask-size:20px 16px;-webkit-mask-repeat:repeat-x}.progress-bar-filled[_ngcontent-%COMP%]{@apply h-full absolute top-0 left-0;background-color:var(--md-sys-color-primary);transition:width .1s linear}`],changeDetection:0});let d=m;return d})();export{ee as MusicComponent};
